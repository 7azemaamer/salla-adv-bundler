<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Salla Bundle System - Corrected Snippet</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background: #f8f9fa;
        direction: rtl;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        font-size: 14px;
        overflow-x: auto;
        margin: 15px 0;
        white-space: pre-wrap;
      }
      .highlight {
        background: #ffd700;
        color: #000;
        padding: 2px 4px;
        border-radius: 3px;
      }
      .warning {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        color: #856404;
        padding: 15px;
        border-radius: 5px;
        margin: 15px 0;
      }
      .success {
        background: #d4edda;
        border: 1px solid #c3e6cb;
        color: #155724;
        padding: 15px;
        border-radius: 5px;
        margin: 15px 0;
      }
      .code-container {
        position: relative;
      }
      .copy-button {
        position: absolute;
        top: 10px;
        left: 10px;
        background: #4a5568;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
        transition: background 0.2s;
      }
      .copy-button:hover {
        background: #2d3748;
      }
      .copy-button.copied {
        background: #38a169;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”§ Salla Bundle System - Corrected Snippet</h1>

      <div class="warning">
        <strong>âš ï¸ Ù…Ø´ÙƒÙ„Ø© ØªÙ… Ø­Ù„Ù‡Ø§:</strong>
        <p>
          Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙƒØ§Ù†Øª Ø£Ù† Ù…ØªØºÙŠØ±Ø§Øª Ø³Ù„Ø© Ù…Ø«Ù„ <code>{{ store.domain }}</code> Ù„Ø§ ÙŠØªÙ…
          Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ ÙÙŠ URL Ø§Ù„Ø®Ø§Øµ Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù€ scriptØŒ Ù…Ù…Ø§ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„
          Ø§Ù„Ù…Ù„Ù.
        </p>
      </div>

      <div class="success">
        <strong>âœ… Ø§Ù„Ø­Ù„:</strong>
        <p>
          ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ù„ÙŠÙ‚ÙˆÙ… Ø¨ØªÙ…Ø±ÙŠØ± Ù…ØªØºÙŠØ±Ø§Øª Ø³Ù„Ø© Ø¹Ø¨Ø±
          <code>window.sallaStoreContext</code> Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† URL.
        </p>
      </div>

      <h2>ğŸ“‹ Snippet Ø§Ù„Ù…ÙØµØ­Ø­ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Salla Partners Portal:</h2>

      <div class="code-container">
        <button class="copy-button" onclick="copyCode()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
        <div class="code-block" id="snippet-code">
          &lt;script type="text/javascript"&gt; var sallaStoreContext = {
          storeDomain: '{{ store.domain }}', storeId: '{{ store.id }}',
          storeUsername: '{{ store.username }}', storeEmail: '{{ store.email
          }}', customerId: '{{ customer.id }}', customerName: '{{ customer.name
          }}', customerEmail: '{{ customer.email }}', customerMobile: '{{
          customer.mobile }}' };window.sallaStoreContext = sallaStoreContext;
          var url = 'https://app.hazemaamer.tech/api/v1/snippet/app-snippet.js';
          var s = document.createElement('script'); s.type = 'text/javascript';
          s.async = true; s.src = url; s.onload = function() { console.log('âœ…
          Salla Bundle System loaded successfully'); }; s.onerror = function() {
          console.error('âŒ Failed to load Salla Bundle System'); }; var x =
          document.getElementsByTagName('script')[0];
          x.parentNode.insertBefore(s, x); &lt;/script&gt;
        </div>
      </div>

      <h2>ğŸ”„ Ù…Ø§ ØªÙ… ØªØºÙŠÙŠØ±Ù‡ (Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø©):</h2>
      <ol>
        <li>
          <span class="highlight">Ø§Ø³ØªØ®Ø¯Ø§Ù… type="text/javascript" ØµØ±Ø§Ø­Ø©</span> -
          Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ù…Ø§Ù†
        </li>
        <li>
          <span class="highlight">Ø§Ø³ØªØ®Ø¯Ø§Ù… var Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† const/let</span> -
          Ù„Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
        </li>
        <li>
          <span class="highlight"
            >Ø§Ø³ØªØ®Ø¯Ø§Ù… insertBefore Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† appendChild</span
          >
          - Ù†ÙØ³ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
        </li>
        <li>
          <span class="highlight">ØªØ¬Ù†Ø¨ IIFE ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ©</span> - ÙƒÙˆØ¯ Ø£Ø¨Ø³Ø· ÙˆØ£Ù‚Ù„
          Ø¹Ø±Ø¶Ø© Ù„Ù„Ø­Ø¬Ø¨
        </li>
        <li>
          <span class="highlight"
            >ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ window.sallaStoreContext</span
          >
          - Ù‚Ø¨Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù€ script
        </li>
      </ol>

      <h2>ğŸ§ª ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</h2>
      <ol>
        <li>Ø§Ø³ØªØ¨Ø¯Ù„ <code>YOUR_DOMAIN.com</code> Ø¨Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ† Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ø®Ø§Ø¯Ù…Ùƒ</li>
        <li>Ø£Ø¶Ù Ø§Ù„Ù€ snippet ÙÙŠ Salla Partners Portal</li>
        <li>Ø§Ø®ØªØ± <strong>Product Pages</strong> ÙƒØµÙØ­Ø§Øª Ù…Ø³ØªÙ‡Ø¯ÙØ©</li>
        <li>Ø§Ø­ÙØ¸ ÙˆØ§Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</li>
        <li>Ø§ÙØªØ­ ØµÙØ­Ø© Ù…Ù†ØªØ¬ ÙÙŠ Ù…ØªØ¬Ø±Ùƒ</li>
        <li>Ø§ÙØªØ­ Developer Tools > Console ÙˆØ´Ø§Ù‡Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</li>
        <li>
          ØªØ­Ù‚Ù‚ Ù…Ù† Network tab Ù„ØªØ±Ù‰ Ø¥Ø°Ø§ ÙƒØ§Ù† <code>app-snippet.js</code> ÙŠØªÙ…
          ØªØ­Ù…ÙŠÙ„Ù‡
        </li>
      </ol>

      <div class="warning">
        <strong>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:</strong>
        <p>
          ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø®Ø§Ø¯Ù…Ùƒ ÙŠØ¹Ù…Ù„ ÙˆØ£Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
          <code>https://YOUR_DOMAIN.com/api/v1/snippet/app-snippet.js</code>
          Ù…ØªØ§Ø­ Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¹Ø§Ù…. Ø§Ø³ØªØ¨Ø¯Ù„ <code>YOUR_DOMAIN.com</code> Ø¨Ø¯ÙˆÙ…ÙŠÙ† Ø®Ø§Ø¯Ù…Ùƒ
          Ø§Ù„ÙØ¹Ù„ÙŠ.
        </p>
      </div>
    </div>

    <script>
      function copyCode() {
        const codeElement = document.getElementById("snippet-code");
        const button = document.querySelector(".copy-button");

        // Get the text content and clean it up
        let codeText = codeElement.textContent || codeElement.innerText;

        // Copy to clipboard
        navigator.clipboard
          .writeText(codeText)
          .then(function () {
            // Success feedback
            const originalText = button.innerHTML.trim();
            button.innerHTML = "âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!";
            button.classList.add("copied");

            // Reset after 2 seconds
            setTimeout(function () {
              button.innerHTML = originalText;
              button.classList.remove("copied");
            }, 2000);
          })
          .catch(function (err) {
            // Fallback for older browsers
            const textArea = document.createElement("textarea");
            textArea.value = codeText;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);

            // Success feedback
            const originalText = button.innerHTML;
            button.innerHTML = "âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!";
            button.classList.add("copied");

            setTimeout(function () {
              button.innerHTML = originalText;
              button.classList.remove("copied");
            }, 2000);
          });
      }
    </script>
  </body>
</html>
